for(var mailChimpForms=document.querySelectorAll('form[action*="list-manage.com"].validate'),i=0;i<mailChimpForms.length;i++)mailChimpForms[i].setAttribute("novalidate",!0);var hasError=function(e){if(!e.disabled&&"file"!==e.type&&"reset"!==e.type&&"submit"!==e.type&&"button"!==e.type){var t=e.validity;if(!t.valid){if(t.valueMissing)return"Please fill out this field.";if(t.typeMismatch){if("email"===e.type)return"Please enter an email address.";if("url"===e.type)return"Please enter a URL."}return t.tooShort?"Please lengthen this text to "+e.getAttribute("minLength")+" characters or more. You are currently using "+e.value.length+" characters.":t.tooLong?"Please shorten this text to no more than "+e.getAttribute("maxLength")+" characters. You are currently using "+e.value.length+" characters.":t.patternMismatch?e.hasAttribute("title")?e.getAttribute("title"):"Please match the requested format.":t.badInput?"Please enter a number.":t.stepMismatch?"Please select a valid value.":t.rangeOverflow?"Please select a value that is no more than "+e.getAttribute("max")+".":t.rangeUnderflow?"Please select a value that is no less than "+e.getAttribute("min")+".":"The value you entered for this field is invalid."}}},showError=function(e,t){if(e.classList.add("error"),"radio"===e.type&&e.name){var r,a=e.form.querySelectorAll('[name="'+e.name+'"]');if(a.length>0){for(var n=0;n<a.length;n++)a[n].classList.add("error");e=a[a.length-1]}}var o=e.id||e.name;if(o){var s=e.form.querySelector(".mce_inline_error#error-for-"+o);s||((s=document.createElement("div")).className="mce_inline_error",s.id="error-for-"+o,("radio"===e.type||"checkbox"===e.type)&&(r=e.form.querySelector('label[for="'+o+'"]')||e.parentNode)&&r.parentNode.insertBefore(s,r.nextSibling),r||e.parentNode.insertBefore(s,e.nextSibling)),e.setAttribute("aria-describedby","error-for-"+o),s.textContent=t,s.style.display="block",s.style.visibility="visible"}},removeError=function(e){if(e.classList.remove("error"),e.removeAttribute("aria-describedby"),"radio"===e.type&&e.name){var t=e.form.querySelectorAll('[name="'+e.name+'"]');if(t.length>0){for(var r=0;r<t.length;r++)t[r].classList.remove("error");e=t[t.length-1]}}var a=e.id||e.name;if(a){var n=e.form.querySelector(".mce_inline_error#error-for-"+a);n&&(n.textContent="",n.style.display="none",n.style.visibility="hidden")}},serialize=function(e){var t="";for(i=0;i<e.elements.length;i++){var r=e.elements[i];r.name&&!r.disabled&&"file"!==r.type&&"reset"!==r.type&&"submit"!==r.type&&"button"!==r.type&&("checkbox"!==r.type&&"radio"!==r.type||r.checked)&&(t+="&"+encodeURIComponent(r.name)+"="+encodeURIComponent(r.value))}return t};window.displayMailChimpStatus=function(e){if(e&&"object"==typeof e&&e.result&&"string"==typeof e.result&&e.msg&&"string"==typeof e.msg){var t=document.getElementById("mce-error-response"),r=document.getElementById("mce-success-response");if(t&&r){if("redirect"===e.result&&"captcha"===e.msg){var a=document.querySelector("form.validate").getAttribute("action");if(!a)return;var n=a;if(e.params&&"object"==typeof e.params)try{var o=Object.entries(e.params).filter(function(e){return"string"==typeof e[0]&&"string"==typeof e[1]}).map(function(e){return encodeURIComponent(e[0])+"="+encodeURIComponent(e[1])}).join("&");n+=o}catch(s){console.error("Error processing redirect parameters:",s);return}n+="&_="+Date.now();try{if(!new URL(n).hostname.endsWith("list-manage.com")){console.error("Invalid redirect URL hostname");return}window.open(n,"_blank")}catch(l){console.error("Invalid redirect URL:",l)}return}if("error"===e.result){var c=e.msg.replace(/^\d+\s*-\s*/,"").trim().substring(0,1e3);t.textContent="",t.textContent=c,t.style.display="block",r.style.display="none";return}var m=e.msg.trim().substring(0,1e3);r.textContent="",r.textContent=m,r.style.display="block",t.style.display="none"}}};var submitMailChimpForm=function(e){var t=e.getAttribute("action");t=t.replace("/post?u=","/post-json?u="),t+=serialize(e)+"&c=displayMailChimpStatus",setTimeout(function(){var e=window.document.getElementsByTagName("script")[0],r=window.document.createElement("script");r.src=t,e.parentNode.insertBefore(r,e),r.onload=function(){this.remove()}},0)};mailChimpForms.forEach(function(e){e.addEventListener("submit",function(e){if(e.target.classList.contains("validate")){var t,r,a=e.target.getAttribute("action");if(a){try{if(!new URL(a).hostname.endsWith("list-manage.com"))return}catch(n){return}e.preventDefault();for(var o=e.target.elements,s=0;s<o.length;s++)(t=hasError(o[s]))&&(showError(o[s],t),r||(r=o[s]));r&&r.focus(),submitMailChimpForm(e.target)}}},!1),e.querySelectorAll("input, select, textarea").forEach(function(e){e.addEventListener("blur",function(e){var t=hasError(e.target);if(t){showError(e.target,t);return}removeError(e.target)})})});
